<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Admin Dashboard - Tourism Management System</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Inter', sans-serif; }
    body { display: flex; min-height: 100vh; background: linear-gradient(to right, #eef7ff, #e0f7fa); }
    .sidebar { width: 250px; background: linear-gradient(to bottom, #0077b6, #023e8a); padding: 30px 20px; color: white; display: flex; flex-direction: column; gap: 25px; box-shadow: 3px 0 10px rgba(0,0,0,0.15); }
    .sidebar h2 { font-size: 22px; font-weight: 700; margin-bottom: 15px; }
    .nav-link { text-decoration: none; color: white; margin: 8px 0; display: block; font-size: 15px; padding: 10px; border-radius: 8px; transition: background 0.3s; }
    .nav-link:hover { background: rgba(255,255,255,0.1); }
    .main-content { flex: 1; padding: 30px; }
    .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; }
    .admin-profile { display: flex; align-items: center; gap: 12px; }
    .admin-profile img { width: 52px; height: 52px; border-radius: 50%; object-fit: cover; border: 2px solid #0077b6; }
    .stats { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px; }
    .stat-card { background: #ffffff; padding: 22px; border-radius: 16px; box-shadow: 0 4px 12px rgba(0,0,0,0.08); text-align: center; transition: transform 0.3s; }
    .stat-card:hover { transform: translateY(-4px); }
    .stat-card h3 { font-size: 16px; color: #0077b6; margin-bottom: 6px; }
    .stat-card p { font-size: 24px; font-weight: 700; color: #111; }
    .card-section { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 24px; }
    .card { background: #ffffff; padding: 22px; border-radius: 16px; box-shadow: 0 4px 12px rgba(0,0,0,0.05); transition: transform 0.3s; }
    .card:hover { transform: translateY(-3px); }
    .card h2 { color: #023e8a; font-size: 18px; margin-bottom: 10px; }
    .card p { font-size: 15px; color: #444; line-height: 1.6; }
    footer { margin-top: 40px; text-align: center; font-size: 14px; color: #666; }
    @media (max-width: 700px) { .sidebar { display: none; } .main-content { padding: 20px; } }
  </style>
</head>
<body>
  <aside class="sidebar">
    <h2>🛠️ Admin Panel</h2>
    <a href="{{ url_for('admin_dashboard') }}" class="nav-link">📊 Dashboard</a>
    <a href="{{ url_for('all_bookings') }}" class="nav-link">📁 View Bookings</a>
    <a href="{{ url_for('admin_packages') }}" class="nav-link">🎒 Manage Packages</a>
    <a href="{{ url_for('view_users') }}" class="nav-link">👥 View Users</a>
    <a href="{{ url_for('view_feedback') }}" class="nav-link">📝 Feedback Reports</a>
    <a href="{{ url_for('admin_profile') }}" class="nav-link">👤 Admin Profile</a>
    <a href="{{ url_for('logout') }}" class="nav-link">🚪 Logout</a>
  </aside>

  <main class="main-content">
    <div class="header">
      <div>
        <h1>Welcome, {{ admin_name or "Admin" }} 👋</h1>
        <p>Here’s an overview of the system activity.</p>
      </div>
      <div class="admin-profile">
        <img src="{{ admin_avatar_url or url_for('static', filename='admin_default.png') }}" alt="Admin Profile">
        <div>
          <strong>{{ admin_name or "Admin" }}</strong><br>
          <small>{{ admin_email or "admin@example.com" }}</small>
        </div>
      </div>
    </div>

    <section class="stats">
      <div class="stat-card"><h3>Total Users</h3><p>{{ total_users or 0 }}</p></div>
      <div class="stat-card"><h3>Total Bookings</h3><p>{{ total_bookings or 0 }}</p></div>
      <div class="stat-card"><h3>Revenue</h3><p>₹{{ "{:,}".format(total_revenue or 0) }}</p></div>
      <div class="stat-card"><h3>Pending Approvals</h3><p>{{ pending_approvals or 0 }}</p></div>
    </section>

    <section class="card-section">
      <div class="card">
        <h2>🔔 System Alerts</h2>
        <p>{{ system_alerts or "No new alerts today." }}</p>
      </div>
      <div class="card">
        <h2>📬 Messages</h2>
        <p>{{ new_messages or 0 }} new queries received via Contact Us form.</p>
      </div>
      <div class="card">
        <h2>📝 Notes</h2>
        <p>{{ admin_notes or "No notes available." }}</p>
      </div>
    </section>

    <footer>&copy; 2025 Tourism Management System. Admin Panel.</footer>
  </main>
</body>
</html>
